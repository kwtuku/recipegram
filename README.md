# Recipegram

Instagramのクローンアプリです。

ユーザー登録、レシピ投稿、コメント投稿、いいね、フォロー、検索、通知、ゲストログイン、無限スクロール機能があります。

レスポンシブ対応しています。

テストコードもあります。主にシステムスペックに関してのものです。

アプリのURLはこちらになります。

https://recipegram-kwtuku.herokuapp.com/

<br>
<br>

# 使用技術

## 開発環境

* Windows 10 Home

* Docker

* Docker Compose

<br>

## フロントエンド

* HTML

* SCSS

* Bulma

* JavaScript

* jQuery

<br>

## バックエンド

* Ruby 2.7.3

* Ruby on Rails 6.1.3.1

<br>

## テスト

* RSpec 5.0.1

* Factory Bot 6.2.0

<br>

## データベース

* PostgreSQL 13.3

<br>

## インフラストラクチャ

* Puma 5.3.2

* Heroku 7.52.0

* Cloudinary

<br>
<br>

# 各機能の詳細

## ユーザー周り

* deviseを使用しています。

* 新規登録、ログイン、ログアウト、編集、削除ができます。

* ワンクリックでログインができるゲストログイン機能があります。

* 自分自身とフォローしているユーザーの投稿を含むフィードを持っています。

<br>

## レシピ周り

* 投稿、編集、削除ができます。

* carrierwaveを用いて画像をアップロードできます。

<br>

## コメント周り

* 投稿、削除ができます。

<br>

## いいね周り

* レシピに対していいねができます。

* いいねを取り消すこともできます。

* Ajaxを使用しています。

<br>

## フォロー周り

* ユーザーをフォローすることができます。

* フォローを解除することもできます。

* Ajaxを使用しています。

* フォロー中の場合はマウスオーバーでフォローボタンの色とテキストが変化します。

<br>

## 検索周り

* ransackを使用しています。

* レシピ名、レシピ内容、ユーザー名、またはユーザープロフィール文からキーワード検索できます。

* 半角または全角スペースで区切ることでAND検索ができます。

* ある条件で検索後、ワンクリックで同じキーワードで他の条件で検索できます。

  例：「ラーメン」というキーワードでレシピ名から検索したあとに、「ユーザー名に含まれる」というテキストのリンクをクリックすることでユーザー名から検索ができます。

* キーワードを変更して検索し直す際、検索条件が引き継がれます。

<br>

## 通知周り

* フォローされたとき、投稿したレシピがいいねされたとき、投稿したレシピにコメントされたとき、またはコメントしたレシピに他のユーザーがコメントしたときに通知が作成されます。

* 通知の既読管理ができます。

* 未読の通知がある場合はヘッダーのベルアイコンの右上にバッジが表示されます。

<br>

## フロント周り

* フィード、レシピ一覧、ユーザー一覧、フォロー中一覧、フォロワー一覧でAjaxにより無限スクロールができます。

  $.ajaxメソッド以外はjQueryを使わずに生のJavaScriptで記述しています。$.ajaxメソッドによりshow_additionallyアクションを呼び出し、表示する要素を追加しています。

* 各フォームで空欄、空文字の場合はボタンが動作しません。

* テキストエリアは改行でリサイズされます。

* フラッシュメッセージはXボタンをクリックすると非表示になります。

* ミートボールメニューをクリックするとドロップダウンリストが表示されます。

  ミートボールメニューまたはドロップダウンリスト外をクリック、あるいは画面をスクロールするとドロップダウンリストが非表示になります。

* モバイル表示ではヘッダーにハンバーガーメニューが表示されます。

* 画像をアップロードする際にプレビューを見ることができます。

* レシピの詳細ページでレシピ画像をクリックするとモーダルで画像が大きく表示されます。

* レシピの詳細ページでコメントを一件もしくは全件の表示に切り替えることができます。

* パスワードは目のアイコンをクリックすることで表示することができます。

  目のアイコンまたはパスワードフォーム外をクリック、あるいは画面をスクロールするとマスクされた表示に戻ります。

* 画面幅の大きさによってクラス属性を付け外しできます。

  paddingやmarginに関するクラスを付け外すことでデスクトップ表示ではカードのスタイルの要素をモバイル表示では全画面表示になるようにしています。

* ユーザー詳細ページで表示される内容をユーザーが投稿、いいね、またはコメントしたレシピへと切り替えることができます。

<br>

## マークアップ周り

* Instagramのように画像の上にマウスカーソルを重ねるといいねとコメント数が表示されます。

* 文章を一行もしくは指定の複数行に省略し、末尾に三点リーダーをつけて表示することができます。

* 要素の横幅に収まりきらない長い文字列は改行されます。

<br>
<br>
